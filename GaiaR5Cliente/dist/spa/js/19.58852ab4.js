(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{4923:function(t,e,i){"use strict";i.r(e);var o,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticStyle:{"background-color":"#fdebc7"},attrs:{padding:""}},[i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{to:"/cerca",active:"",clickable:"","fixed-right":""}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{staticStyle:{color:"#7FA949","font-size":"5ex"},attrs:{name:"keyboard_backspace"}})],1)],1),i("div",{staticClass:"text-weight-bold",staticStyle:{color:"#7FA949"}},[i("div",{staticClass:"text-center",staticStyle:{"font-size":"3.5ex"}},[t._v(t._s(t.centroElegido.nombre)+" ")])]),i("div",{staticClass:"column relative-position container   flex flex-center"},[i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("  Horario : "+t._s(t.centroElegido.horario))]),i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("  Dirección : "+t._s(t.centroElegido.direccion))]),i("br"),i("q-item",[i("q-item-section",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"center","align-content":"center"},attrs:{avatar:""}},[i("q-icon",{staticStyle:{"font-size":"1.5rem"},attrs:{color:"primary",name:"person_pin_circle"}}),i("p",{staticClass:"text-dark",staticStyle:{"vertical-align":"center"}},[t._v("   Mi ubicación : ")])],1)],1)],1),i("div",{staticClass:"relative-position container   flex flex-center"},[i("GmapMap",{staticStyle:{width:"500px",height:"300px"},attrs:{center:t.ubicacion,zoom:15,options:t.mapOptions,"map-type-id":"roadmap"}},[i("GmapMarker",{attrs:{position:t.ubicacion}}),i("GmapMarker",{attrs:{position:{lat:t.centroElegido.lat,lng:t.centroElegido.lng}}}),i("gmap-polygon",{attrs:{paths:[t.ubicacion,{lat:t.centroElegido.lat,lng:t.centroElegido.lng}],editable:!1,draggable:!1}}),i("GmapInfoWindow",{attrs:{position:{lat:t.centroElegido.lat,lng:t.centroElegido.lng},options:{pixelOffset:{width:0,height:-35},content:"Destino"}}})],1)],1),i("br"),i("div",{staticClass:"relative-position container   flex flex-center"},[i("q-btn",{staticStyle:{color:"#7FA949"},attrs:{icon:"eco",label:"Validar visita",disabled:t.validadorMapa},on:{"~click":function(e){return t.showNotif(e)}}})],1)],1)},s=[],r=i("2b0e"),n=i("755e"),l=i("81c3");const{Geolocation:c}=l["a"];r["a"].use(n,{load:{key:"AIzaSyCvJo0DJMLi_DQFL_nw_XC0M2LFzU-YK40"}});let d=Component(o=class extends r["a"]{data(){return{origen:{lat:void 0,lng:void 0},destino:{lat:void 0,lng:void 0},mapOptions:{fullscreenControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,disableDefaultUi:!1},diflng:100,diflat:100,intervalid1:""}}getCurrentPosition(){c.getCurrentPosition().then((t=>{this.origen.lat=t.coords.latitude,this.origen.lng=t.coords.longitude,this.setUbicacion(this.origen)}))}created(){this.getCurrentPosition(),this.geoId=c.watchPosition({},((t,e)=>{this.origen.lat=t.coords.latitude,this.origen.lng=t.coords.longitude,this.setUbicacion(this.origen),this.todo()}))}beforeDestroy(){c.clearWatch(this.geoId)}get coordenadasCA(){return this.$store.state.store_CA.coordenadas}verficarCercania(){this.setCoordendas(),3e-4>=this.diflat&&3e-4>=this.diflng&&this.setValidadorMapa(!1)}setValidadorMapa(t){this.$store.commit("store_CA/updateValidadorMapa",t)}setCoordendas(){this.diflng=Math.abs(this.ubicacion.lat-this.centroElegido.lat),this.diflat=Math.abs(this.ubicacion.lng-this.centroElegido.lng)}get ubicacion(){return this.$store.state.store_CA.ubicacionActual}get semillas(){return this.$store.state.store_CA.acumSemillas}get validadorMapa(){return this.$store.state.store_CA.validadorMapa}setUbicacion(t){this.$store.commit("store_CA/updateUbicacion",t)}sumarSemillas(t){this.$store.commit("store_CA/updateSemillas",t)}showNotif(){this.$q.notify({type:"positive",color:"light-green",message:"Visita Registrada"}),this.sumarSemillas(500)}get centroElegido(){return this.$store.state.store_CA.centroElegido}todo(){this.intervalid1=setInterval((()=>{this.verficarCercania()}),2e3)}})||o;var g=d,p=i("2877"),h=i("9989"),m=i("66e5"),u=i("4074"),f=i("0016"),b=i("9c40"),v=i("714f"),C=i("eebe"),y=i.n(C),_=Object(p["a"])(g,a,s,!1,null,"53e2f9d2",null);e["default"]=_.exports;y()(_,"components",{QPage:h["a"],QItem:m["a"],QItemSection:u["a"],QIcon:f["a"],QBtn:b["a"]}),y()(_,"directives",{Ripple:v["a"]})}}]);